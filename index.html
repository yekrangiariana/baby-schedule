<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />

    <!-- SEO Meta Tags -->
    <title>Baby Schedule - Track Your Baby's Activities</title>
    <meta
      name="description"
      content="Simple baby activity tracker. Log feedings, diaper changes, and other activities. Works offline and syncs with Google Sheets."
    />
    <meta
      name="keywords"
      content="baby tracker, baby log, feeding tracker, diaper log, baby activities, parenting tool"
    />
    <meta name="author" content="Baby Schedule" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://yourdomain.com/" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://yourdomain.com/" />
    <meta
      property="og:title"
      content="Baby Schedule - Track Your Baby's Activities"
    />
    <meta
      property="og:description"
      content="Simple baby activity tracker. Log feedings, diaper changes, and other activities. Works offline and syncs with Google Sheets."
    />
    <meta property="og:image" content="https://yourdomain.com/og-image.jpg" />
    <meta property="og:site_name" content="Baby Schedule" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://yourdomain.com/" />
    <meta
      name="twitter:title"
      content="Baby Schedule - Track Your Baby's Activities"
    />
    <meta
      name="twitter:description"
      content="Simple baby activity tracker. Log feedings, diaper changes, and other activities."
    />
    <meta
      name="twitter:image"
      content="https://yourdomain.com/twitter-image.jpg"
    />

    <!-- App Icons & Manifest -->
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ¼</text></svg>"
    />
    <link
      rel="apple-touch-icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ¼</text></svg>"
    />
    <link rel="manifest" href="/manifest.json" />

    <!-- Theme & App Config -->
    <meta name="theme-color" content="#FFF5F7" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Baby Schedule" />
    <meta name="application-name" content="Baby Schedule" />
    <meta name="msapplication-TileColor" content="#FFF5F7" />

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css" />

    <!-- Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Baby Schedule",
        "description": "Simple baby activity tracker. Log feedings, diaper changes, and other activities.",
        "url": "https://yourdomain.com/",
        "applicationCategory": "LifestyleApplication",
        "operatingSystem": "All",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "featureList": [
          "Activity tracking",
          "Google Sheets sync",
          "Custom activities",
          "Data export"
        ],
        "author": {
          "@type": "Organization",
          "name": "Baby Schedule"
        }
      }
    </script>
  </head>
  <body>
    <!-- Main Screen -->
    <div class="screen" id="homeScreen">
      <main class="screen-content">
        <!-- Today's Summary -->
        <section class="today-summary">
          <h2>ğŸ“Š Today's Summary</h2>
          <div class="now" id="nowText"></div>
          <div class="today-stats" id="todayTotals">Loading...</div>
          <div
            class="sync-notice sync-notice-warning"
            id="syncNoticeWarning"
            hidden
          >
            <span>ğŸ’¡ Data stored locally only.</span>
            <button class="sync-notice-link" id="syncNoticeLink">
              Connect Google Sheets
            </button>
          </div>
        </section>

        <!-- Recent Activity -->
        <section class="recent-activity">
          <h3>Recent Activity</h3>
          <div class="recent-list" id="recentList"></div>
        </section>

        <!-- Quick Actions -->
        <section class="quick-actions">
          <h3>Log Activity</h3>
          <div class="action-buttons" id="actionButtons">
            <!-- Action buttons will be rendered dynamically -->
          </div>
        </section>
      </main>
    </div>

    <!-- Activity Log Screen (Full Page) -->
    <div class="screen screen-modal" id="logScreen" hidden>
      <div class="screen-indicator">ğŸ“‹ Log</div>
      <main class="screen-content">
        <!-- Combined Summary Overview -->
        <div class="log-summary-card" id="logSummaryCard">
          <!-- Dynamic summary will be rendered here -->
        </div>

        <div class="summary" id="summary"></div>

        <div class="screen-toolbar">
          <label
            for="dateFilter"
            style="
              font-size: 14px;
              font-weight: 600;
              color: var(--text-primary);
              margin-right: 8px;
            "
            >ğŸ“… Filter by Date:</label
          >
          <input type="date" id="dateFilter" class="date-input" />
          <button id="clearFilterBtn" class="btn-small" style="display: none">
            Clear Filter
          </button>
        </div>

        <div class="log-entries" id="logEntries"></div>
      </main>
    </div>

    <!-- Insights Screen (Full Page) -->
    <div class="screen screen-modal" id="insightsScreen" hidden>
      <div class="screen-indicator">ğŸ“ˆ Insights</div>
      <main class="screen-content">
        <!-- Activity Filter Section -->
        <div class="activity-filter-section">
          <h3>ğŸ“Š Show Activities</h3>
          <div class="activity-filter-grid" id="activityFilterGrid">
            <!-- Filter checkboxes will be rendered dynamically -->
          </div>
        </div>
        
        <div class="graphs-container">
          <div class="graph-card">
            <h3>Today's Activity</h3>
            <canvas id="todayChart" width="300" height="200"></canvas>
            <div class="graph-legend" id="todayLegend">
              <!-- Legend will be rendered dynamically -->
            </div>
          </div>
          <div class="graph-card">
            <h3>7-Day Trend</h3>
            <canvas id="weekChart" width="300" height="200"></canvas>
            <div class="graph-legend" id="weekLegend">
              <!-- Legend will be rendered dynamically -->
            </div>
          </div>
          <div class="graph-card">
            <h3>Last 24 Hours</h3>
            <div class="graph-legend" id="hourlyLegend">
              <!-- Legend will be rendered dynamically -->
            </div>
            <canvas id="hourlyChart" width="300" height="200"></canvas>
          </div>
          <div class="graph-card">
            <h3>Feed to Diaper Ratio</h3>
            <canvas id="ratioChart" width="300" height="200"></canvas>
            <div class="graph-guide">
              <strong>ğŸ’š Healthy: 1-2 diapers per feed</strong><br />
              &lt;1:1 = Monitor intake â€¢ 1-2:1 = Good â€¢ &gt;2:1 = Great
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Settings Screen (Full Page) -->
    <div class="screen screen-modal" id="settingsScreen" hidden>
      <div class="screen-indicator">âš™ï¸ Settings</div>
      <main class="screen-content">
        <div class="settings">
          <!-- Google Sheets Sync Section -->
          <section class="settings-section" id="googleSheetsSection">
            <h2 class="settings-section-title">â˜ï¸ Google Sheets Sync</h2>

            <div
              class="sync-notice sync-notice-success"
              id="syncNoticeSuccess"
              hidden
            >
              <span>âœ“ Connected to Google Sheets</span>
            </div>

            <label class="field">
              <span class="field-label">Sync URL</span>
              <input
                type="url"
                id="appsScriptUrl"
                class="input"
                placeholder=""
              />
              <button
                type="button"
                id="pasteUrlBtn"
                class="btn-paste"
                title="Paste from clipboard"
              >
                Paste
              </button>
            </label>

            <div class="settings-actions">
              <button
                id="saveSettingsBtn"
                class="btn-rounded btn-primary"
                style="width: 100%"
              >
                <span class="btn-text">ğŸ’¾ Connect & Sync</span>
                <span class="btn-loading" hidden>ğŸ”„ Syncing...</span>
              </button>
            </div>

            <small class="hint">
              ğŸ’¡ Paste your Google Sheets Web App URL above. Leave blank to keep
              everything local only.
            </small>

            <button
              id="viewHelpBtn"
              class="btn-rounded btn-secondary"
              style="margin-top: 1rem; width: 100%"
            >
              ğŸ“– View Setup Guide
            </button>
          </section>

          <!-- Action Types Section -->
          <section class="settings-section">
            <h2 class="settings-section-title">ğŸ“ Activity Types</h2>
            <p class="settings-section-description">
              Customize the activities you want to track. Each activity has a
              name, emoji, and color.
            </p>

            <div id="actionTypesList" class="action-types-list">
              <!-- Action types will be rendered here dynamically -->
            </div>

            <button
              id="addActionTypeBtn"
              class="btn-rounded btn-secondary"
              style="width: 100%; margin-top: 12px"
            >
              â• Add New Activity
            </button>
          </section>

          <!-- Theme Section -->
          <section class="settings-section">
            <h2 class="settings-section-title">ğŸ¨ Theme</h2>

            <div class="theme-options">
              <label class="theme-option">
                <input type="radio" name="theme" value="blossom" checked />
                <span class="theme-name">ğŸŒ¸ Blossom</span>
              </label>
              <label class="theme-option">
                <input type="radio" name="theme" value="comet" />
                <span class="theme-name">â˜„ï¸ Comet</span>
              </label>
              <label class="theme-option">
                <input type="radio" name="theme" value="meadow" />
                <span class="theme-name">ğŸŒ¿ Meadow</span>
              </label>
            </div>
          </section>

          <!-- Data Management Section -->
          <section class="settings-section">
            <h2 class="settings-section-title">ğŸ’¾ Data Management</h2>
            <p class="settings-section-description">
              Export your data as CSV or import previously exported data.
            </p>

            <button
              id="exportCSVBtn"
              class="btn-rounded btn-secondary"
              style="width: 100%; margin-bottom: 12px"
            >
              ğŸ“¥ Export CSV
            </button>

            <button
              id="importCSVBtn"
              class="btn-rounded btn-secondary"
              style="width: 100%"
            >
              ğŸ“¤ Import CSV
            </button>
            <input
              type="file"
              id="importCSVInput"
              accept=".csv"
              style="display: none"
            />
          </section>

          <!-- Tutorial Section -->
          <section class="settings-section">
            <h2 class="settings-section-title">ğŸ“ Tutorial</h2>
            <p class="settings-section-description">
              Learn how to use the app with an interactive guided tour.
            </p>

            <button
              id="startTutorialBtn"
              class="btn-rounded btn-secondary"
              style="width: 100%"
            >
              ğŸ“ Start App Tutorial
            </button>
          </section>
        </div>
      </main>
    </div>

    <!-- Help/Documentation Screen -->
    <div class="screen screen-modal" id="helpScreen" hidden>
      <header class="screen-header">
        <div></div>
        <h1>ğŸ“– Setup Guide</h1>
        <div></div>
      </header>

      <main class="screen-content" style="padding: 1rem">
        <div id="helpContent" class="help-content">
          Loading documentation...
        </div>
      </main>
    </div>

    <!-- Action Type Editor Modal -->
    <div class="modal-overlay" id="actionTypeModal" hidden>
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="modalTitle">Add Activity</h3>
          <button class="modal-close" id="closeModalBtn">âœ•</button>
        </div>
        <div class="modal-body">
          <input type="hidden" id="editingTypeId" />

          <label class="field">
            <span class="field-label">Activity Name</span>
            <input
              type="text"
              id="typeNameInput"
              class="input"
              placeholder="e.g., Sleep, Bath, Play"
              maxlength="20"
            />
            <div
              id="activitySuggestions"
              class="suggestions-container"
              style="display: none"
            >
              <!-- Activity suggestions will appear here -->
            </div>
          </label>

          <label class="field">
            <span class="field-label">Emoji</span>
            <input
              type="text"
              id="typeEmojiInput"
              class="input emoji-input"
              placeholder="ğŸ˜´"
              maxlength="2"
            />
            <div id="emojiPicker" class="emoji-picker">
              <!-- Emoji options will appear here -->
            </div>
          </label>

          <label class="field">
            <span class="field-label">Color</span>
            <div class="color-picker">
              <input type="color" id="typeColorInput" value="#a8d5ff" />
              <input
                type="text"
                id="typeColorText"
                class="input"
                value="#a8d5ff"
                maxlength="7"
              />
            </div>
            <div id="colorPresets" class="color-presets">
              <!-- Color presets will appear here -->
            </div>
          </label>
        </div>
        <div class="modal-footer">
          <button id="cancelModalBtn" class="btn-rounded btn-secondary">
            Cancel
          </button>
          <button id="saveTypeBtn" class="btn-rounded btn-primary">Save</button>
        </div>
      </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
      <button class="nav-item active" data-screen="home">
        <span class="nav-icon">ğŸ </span>
        <span class="nav-label">Home</span>
      </button>
      <button class="nav-item" data-screen="log" id="viewLogBtn">
        <span class="nav-icon">ğŸ“‹</span>
        <span class="nav-label">Log</span>
      </button>
      <button class="nav-item" data-screen="insights" id="viewGraphsBtn">
        <span class="nav-icon">ğŸ“ˆ</span>
        <span class="nav-label">Insights</span>
      </button>
      <button class="nav-item" data-screen="settings" id="openSettingsBtn">
        <span class="nav-icon">âš™ï¸</span>
        <span class="nav-label">Settings</span>
      </button>
    </nav>

    <div id="toast" role="status" aria-live="polite"></div>

    <!-- Floating Undo Button -->
    <button id="undoBtn" class="floating-undo" hidden>
      <span class="undo-icon">â†©ï¸</span>
      <span class="undo-text">Undo</span>
    </button>

    <!-- Hidden elements for legacy compatibility -->
    <div hidden>
      <div id="progressWrap"></div>
      <div id="progressBar"></div>
      <div id="progressLabel"></div>
      <table id="logTable">
        <tbody id="logTbody"></tbody>
      </table>
      <div id="settingsPanel"></div>
      <div id="logPanel"></div>
      <div id="graphsPanel"></div>
    </div>

    <!-- Tutorial Wizard -->
    <div id="tutorialWizard" class="wizard-overlay" hidden>
      <div class="wizard-spotlight"></div>
      <div class="wizard-card">
        <div class="wizard-progress">
          <div class="wizard-progress-bar"></div>
        </div>
        <div class="wizard-content">
          <h2 class="wizard-title"></h2>
          <p class="wizard-description"></p>
        </div>
        <div class="wizard-footer">
          <div class="wizard-indicators"></div>
          <div class="wizard-buttons">
            <button id="wizardSkip" class="wizard-btn wizard-btn-skip">
              Skip
            </button>
            <button id="wizardBack" class="wizard-btn wizard-btn-secondary">
              Back
            </button>
            <button id="wizardNext" class="wizard-btn wizard-btn-primary">
              Next
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
